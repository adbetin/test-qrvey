<app-country-search (countrySearch)="onCountrySearch($event)"></app-country-search>

<app-country-modal #countryModal></app-country-modal>
<div class="main-container">
  <div div *ngIf="world$ | async as world; else loadingOrError">
    <div *ngFor='let region of world.regions'>
      <app-country-list [region]="region" (countryClicked)="countryModal.show($event)"></app-country-list>
    </div>
    <div *ngIf='world.regions?.length === 0'>No results</div>
  </div>
</div>

<ng-template #loadingOrError>
  <ng-container *ngIf="errorObject; else loading">
    <div>
      <div>
        {{ errorObject }}
      </div>
    </div>
  </ng-container>
</ng-template>

<ng-template #loading>
  Loading ...
</ng-template>